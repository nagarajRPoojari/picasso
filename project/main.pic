// import syncio from builtin;
// import sync from builtin;
// import array from builtin;
// import types from builtin;
// import asyncio from builtin;
// import strings from builtin;

// import crypto from builtin;

// class Node {
//     say key: string;
//     say val: int;
//     say next: Node;

//     fn Node(key: string, val: int) {
//         say x: int = 90;
//         this.key = key;
//         this.val = val;
//         this.next = null;
//     }
// }

// class HashMap {
//     say arr: []Node;
//     say size: int; // array size
//     say lf: double; // load factor
//     say count: int; // occupied bucket count



//     fn HashMap(lf: double, size: int) {
//         this.size = size;
//         this.arr = array.create(Node, size);
//         this.lf = lf;
//     }

//     fn put(k:string, v:int) {
//         this.count = this.count + this._put(this.arr, this.size, new Node(k,v));
//         if((this.count / this.size) > this.lf) {
//             syncio.printf(" triggering resize %d / %d = %f , %f\n", this.count,  this.size , this.count / this.size , this.lf);
//             this.resize();
//         }
//     }

//     fn _put(arr:[]Node, size:int, node:Node): int {
//         say h: int = crypto.hash(node.key, 2);
//         say i: int = h % size;

//         // syncio.printf("inserting - %s [%p] to %d \n", node.key, node.key , i);

//         if(arr[i] == null){
//             arr[i] = node;
//         }else { 
//             say head: Node = arr[i];
//             say prev: Node;
//             while head != null {
//                 if(strings.compare(head.key, node.key) == 0){
//                     head.val = node.val;
//                     return 0;
//                 }
//                 prev = head;
//                 head = head.next;
//             }
//             if(prev.next == null) {
//                 prev.next = node;
//                 return 0;
//             }
//         }
//         return 1;
//     }

//     fn resize() {
//         say newsize:int = this.size * 2;
//         say newarr:[]Node = array.create(Node, newsize);

//         foreach i in 0..this.size {
//             say head:Node = this.arr[i];
//             while head != null {
//                 this._put(newarr, newsize, head);
//                 head = head.next;
//             }
//         }

//         this.arr = newarr;
//         this.size = newsize;
//     }

//     fn get(k: string): int {
//         say h: int = crypto.hash(k, types.size(k));
//         say i: int = h % this.size;

//         say head: Node = this.arr[i];
//         while head != null {
//             if(strings.compare(head.key, k) == 0){
//                 return head.val;
//             }
//             head = head.next;
//         }
//         return -1;
//     }

//     fn remove(k: string):int {
//         say h: int = crypto.hash(k, types.size(k));
//         say i: int = h % this.size;

//         say head: Node = this.arr[i];
//         say prev: Node = null;

//         while head != null {
//             if(strings.compare(head.key, k) == 0){
//                 if(prev == null){
//                     this.arr[i] = head.next;
//                 }else {
//                     prev.next = head.next;
//                 }
//                 return 0;
//             }
//             prev = head;
//             head = head.next;
//         }
//         return -1;
//     }
// }

// fn start() {
//     say h:HashMap = new HashMap(0.75, 10);

// syncio.printf("== started puting === \n");
// // h.put("1", 1);
// // h.put("2", 2);
// // h.put("3", 3);
// // h.put("4", 4);
// // h.put("5", 5);
// // h.put("6", 6);
// // h.put("7", 7);
// // h.put("8", 8);
// // h.put("9", 9);
// // h.put("10", 10);
// // h.put("11", 11);
// // h.put("12", 12);
// // h.put("13", 13);
// // h.put("14", 14);
// // h.put("15", 15);
// // h.put("16", 16);
// // h.put("17", 17);
// // h.put("18", 18);
// // h.put("19", 19);
// // h.put("20", 20);
// // h.put("21", 21);
// // h.put("22", 22);
// // h.put("23", 23);
// // h.put("24", 24);
// // h.put("25", 25);
// // h.put("26", 26);
// // h.put("27", 27);
// // h.put("28", 28);
// // h.put("29", 29);
// // h.put("30", 30);
// // h.put("31", 31);
// // h.put("32", 32);
// // h.put("33", 33);
// // h.put("34", 34);
// // h.put("35", 35);
// // h.put("36", 36);
// // h.put("37", 37);
// // h.put("38", 38);
// // h.put("39", 39);
// // h.put("40", 40);
// // h.put("41", 41);
// // h.put("42", 42);
// // h.put("43", 43);
// // h.put("44", 44);
// // h.put("45", 45);
// // h.put("46", 46);
// // h.put("47", 47);
// // h.put("48", 48);
// // h.put("49", 49);
// // h.put("50", 50);
// // h.put("51", 51);
// // h.put("52", 52);
// // h.put("53", 53);
// // h.put("54", 54);
// // h.put("55", 55);
// // h.put("56", 56);
// // h.put("57", 57);
// // h.put("58", 58);
// // h.put("59", 59);
// // h.put("60", 60);
// // h.put("61", 61);
// // h.put("62", 62);
// // h.put("63", 63);
// // h.put("64", 64);
// // h.put("65", 65);
// // h.put("66", 66);
// // h.put("67", 67);
// // h.put("68", 68);
// // h.put("69", 69);
// // h.put("70", 70);
// // h.put("71", 71);
// // h.put("72", 72);
// // h.put("73", 73);
// // h.put("74", 74);
// // h.put("75", 75);

// // h.remove("67");

// // new Node("", 1);
// // new Node("", 1);

// // h.put("76", 76);
// // h.put("77", 77);
// // h.put("78", 78);
// // h.put("79", 79);
// // h.put("80", 80);
// // h.put("81", 81);
// // h.put("82", 82);
// // h.put("83", 83);
// // h.put("84", 84);
// // h.put("85", 85);
// // h.put("86", 86);
// // h.put("87", 87);
// // h.put("88", 88);
// // h.put("89", 89);
// // h.put("90", 90);
// // h.put("91", 91);
// // h.put("92", 92);
// // h.put("93", 93);
// // h.put("94", 94);
// // h.put("95", 95);
// // h.put("96", 96);
// // h.put("97", 97);
// // h.put("98", 98);
// // h.put("99", 99);
// // h.put("100", 100);
// // h.put("101", 101);
// // h.put("102", 102);
// // h.put("103", 103);
// // h.put("104", 104);
// // h.put("105", 105);
// // h.put("106", 106);
// // h.put("107", 107);
// // h.put("108", 108);
// // h.put("109", 109);
// // h.put("110", 110);
// // h.put("111", 111);
// // h.put("112", 112);
// // h.put("113", 113);
// // h.put("114", 114);
// // h.put("115", 115);
// // h.put("116", 116);
// // h.put("117", 117);
// // h.put("118", 118);
// // h.put("119", 119);
// // h.put("120", 120);
// // h.put("121", 121);
// // h.put("122", 122);
// // h.put("123", 123);
// // h.put("124", 124);
// // h.put("125", 125);
// // h.put("126", 126);
// // h.put("127", 127);
// // h.put("128", 128);
// // h.put("129", 129);
// // h.put("130", 130);
// // h.put("131", 131);
// // h.put("132", 132);
// // h.put("133", 133);
// // h.put("134", 134);
// // h.put("135", 135);
// // h.put("136", 136);
// // h.put("137", 137);
// // h.put("138", 138);
// // h.put("139", 139);
// // h.put("140", 140);
// // h.put("141", 141);
// // h.put("142", 142);
// // h.put("143", 143);
// // h.put("144", 144);
// // h.put("145", 145);
// // h.put("146", 146);
// // h.put("147", 147);
// // h.put("148", 148);
// // h.put("149", 149);
// // h.put("150", 150);
// // h.put("151", 151);
// // h.put("152", 152);
// // h.put("153", 153);
// // h.put("154", 154);
// // h.put("155", 155);
// // h.put("156", 156);
// // h.put("157", 157);
// // h.put("158", 158);
// // h.put("159", 159);
// // h.put("160", 160)Ä
// // h.put("161", 161);
// // h.put("162", 162);
// // h.put("163", 163);
// // h.put("164", 164);
// // h.put("165", 165);
// // h.put("166", 166);
// // h.put("167", 167);
// // h.put("168", 168);
// // h.put("169", 169);
// // h.put("170", 170);
// // h.put("171", 171);
// // h.put("172", 172);
// // h.put("173", 173);
// // h.put("174", 174);
// // h.put("175", 175);
// // h.put("176", 176);
// // h.put("177", 177);
// // h.put("178", 178);
// // h.put("179", 179);
// // h.put("180", 180);
// // h.put("181", 181);
// // h.put("182", 182);
// // h.put("183", 183);
// // h.put("184", 184);
// // h.put("185", 185);
// // h.put("186", 186);
// // h.put("187", 187);
// // h.put("188", 188);
// // h.put("189", 189);
// // h.put("190", 190);
// // h.put("191", 191);
// // h.put("192", 192);
// // h.put("193", 193);
// // h.put("194", 194);
// // h.put("195", 195);
// // h.put("196", 196);
// // h.put("197", 197);
// // h.put("198", 198);
// // h.put("199", 199);
// // h.put("200", 200);
// // syncio.printf("== dosdn ss?? == \n");


//     // say n: Node = new Node("hello", 2);
//     // while n != null {
//     //     syncio.printf("hi hello \n");
//     //     n = null;
//     // }


//     // foreach i in 0..100 {
//     //     h.put(strings.format("key-%d", i), i);
//     // }

//     syncio.printf("=== done hashmap === \n");
    

//     say n:Node;
//     say c:[]int;
//     syncio.printf("== starting new Node == \n");
//     foreach i in 0..10000 {
//         n = new Node("", 1);
//     }

//     syncio.printf("== all done == \n");
//     // if(n==null){

//     // }
// }
import syncio from builtin;
import sync from builtin;
import array from builtin;
import types from builtin;
import asyncio from builtin;
import strings from builtin;

import crypto from builtin;

class Node {
    say val: int;
    say key: string;
    say next: Node;
    fn Node(key: string, val: int) {
        // say x: int = 10;
        // this.key = key;
        // this.val = val;
        // this.next = null;
    }


    fn test() {
        foreach i in 1..100 {
            say x: int = 90;
            say y: int = x + x * x;
            say n: Node = new Node("", 1);
            syncio.printf(" .. %d \n", y);
        }
    }

    fn worker() {
        syncio.printf("i am working \n");
    }
}

fn start() {
    say n:Node = new Node("", 10);
    say c:[]int;
    syncio.printf("== starting new Node == \n");
    foreach i in 0..10000 {
        n = new Node("", 8);
        // n.test();
        syncio.printf("-%d-\n", i);
    }
    syncio.printf("== all done == \n");
}


