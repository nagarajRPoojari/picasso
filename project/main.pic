import io from builtin;
import array from builtin;

class Worker {
  say id: atomic int;
  say x: atomic []int;

  
  fn Worker(id: int) {
    this.id = id;
  }

  fn dos() {
    this.recurse();
  }

  fn recurse() {
    this.id = this.id - 1;
    if(this.id <= 0){
      return;
    }else {}
    io.printf("> %d\n", this.id);
    this.recurse();
  }
}



fn start() {
    io.printf("started... \n");

    say worker: Worker = new Worker(100);

    foreach i in 0..20 {
        thread(worker.dos);
    }
}

// 1447910000 -  time taken by go
// 1181128000 -  time taken by mine

