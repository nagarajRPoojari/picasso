using "builtin/array";
using "builtin/syncio";

class Test {
    fn Test() {}

    fn testArrayCreate() {
        // int array
        say intArr:[]int = array.create(int, 10);
        foreach i in 0..array.shape(intArr)[0] {
            syncio.printf("intArr[%d]=%d\n", i, intArr[i]); // expected to be 0
            intArr[i] = i;
            syncio.printf("intArr[%d]=%d\n", i, intArr[i]); // expected to be i
        }
    }

    fn testLen() {
        say intArr:[]int = array.create(int, 10, 4);
        syncio.printf("length: %d\n", array.len(intArr));
    }

    fn testShape() {
        say intArr:[]int = array.create(int, 10, 4);
        syncio.printf("shape: %d\n", array.shape(intArr)[0], array.shape(intArr)[1]);
    }
}

fn start() {
    say t: start.Test = new start.Test();

    t.testArrayCreate();
    t.testLen();
    t.testShape();
}